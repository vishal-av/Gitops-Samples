apiVersion: v1
kind: Secret
metadata:
  name: shared-app-secrets
  namespace: default
  labels:
    app: shared-manifests
  annotations:
    description: "Shared secret used by both GitOps and CD Pipeline deployments"
type: Opaque
stringData:
  # These secret expressions work with BOTH:
  # - GitOps Application (Argo CD sync)
  # - CD Pipeline (traditional Harness deployment)
  
  # Organization-level secret
  api-key: <+secrets.getValue("org.apiKey")>
  
  # Project-level secret
  db-password: <+secrets.getValue("dbPassword")>
  
  # App secret
  app-secret: <+secrets.getValue("appSecret")>

